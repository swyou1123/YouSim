{"version":3,"file":"isESM.js","sources":["../../../src/utils/isESM.ts"],"sourcesContent":["/**\n * Determine if the given source code represents a file written using ES6 modules.\n *\n * The regexes used are from https://github.com/component/is-module, which got them from\n * https://github.com/formatjs/js-module-formats, which says it got them from\n * https://github.com/ModuleLoader/es-module-loader, though the originals are now nowhere to be found.\n *\n * @param moduleSource The source code of the module\n * @returns True if the module contains ESM-patterned code, false otherwise.\n */\nexport function isESM(moduleSource: string): boolean {\n  const importExportRegex =\n    /(?:^\\s*|[}{();,\\n]\\s*)(import\\s+['\"]|(import|module)\\s+[^\"'()\\n;]+\\s+from\\s+['\"]|export\\s+(\\*|\\{|default|function|var|const|let|[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*))/;\n  const exportStarRegex = /(?:^\\s*|[}{();,\\n]\\s*)(export\\s*\\*\\s*from\\s*(?:'([^']+)'|\"([^\"]+)\"))/;\n\n  return importExportRegex.test(moduleSource) || exportStarRegex.test(moduleSource);\n}\n"],"names":[],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;"}